<div align="center">
<br />
<h1>발표 제목</h1>
<br />
</div>

## 목차

1. [**AOP**](#1)
2. [**AOP 적용 방식**](#2)
3. [**용어**](#3)

<br />

<div id="1"></div>

## AOP

핵심기능을 보조하기 위한 부가기능 개발을 할때, 여러 곳에서 공통으로 사용하는 부가기능에 대해서 `횡단 관심사(cross-cutting concerns)` 라고 한다.

이 부가기능의 문제점은 여러 곳에 적용되어 있는 경우, 혹은 여러곳에 적용해야하는 경우 코드의 단순호출이라고 할지라도 수 많은 코드를 고쳐야 한다.

- 부가기능 적용시 많은 반복 필요
- 중복 코드 생성
- 부가기능 변경시, 많은 수정 필요
- 부가기능 적용대상 변경시 많은 수정 필요

위와 같은 문제점들은 일반적인 OOP 방식으로는 해결할 수 없다. 그래서 `AOP(Aspect-Oriented Programming)`가 개발되게 되었다.

AOP는 OOP(Object Oriented Programming)를 대체하는 수단이 아니라, 보조의 목적으로 개발되었다.

<br />

<div id="2"></div>

## AOP 적용방식

- 컴파일 시점
- 클래스 로딩 시점
- 런타임 시점(프록시)

### 컴파일 시점

`.java` 소스 코드를 컴파일러를 사용해서 `.class` 를 만드는 시점에 부가기능 로직을 추가한다. 디컴파일시에 부가기능 관련 호출 코드가 들어가는 것을 확인할 수 있다.

`AspectJ` 가 제공하는 특별한 컴파일러를 사용해야 한다.

특별한 컴파일러가 필요하고 사용이 복잡하여 실제로 잘 사용하지 않는다.

### 클래스 로딩 시점

자바를 실행할때, `.class` 파일을 JVM 내부 클래스 로더에 보관하는데, 파일을 로딩하기 전에, `.class` 파일을 조작하여 JVM에 올리게 된다. 직접 바이트 코드를 조작하여 코드를 붙여준다.

`AspectJ` 를 사용하여 클래스 로더 조작기를 지정해야 하는데, 번거롭고 운영하기가 어려워서 결과적으로 잘 쓰지 않는다.

### 런타임 시점

main 메소드가 실행된 다음에 적용하는 것으로 자바 언어가 제공하는 범위 안에서 부가기능을 적용해야 한다.

프록시를 통해 부가기능을 적용한다.

`Spring AOP` 가 이 방식을 사용한다.

`Spring AOP` 의 경우 조인포인트 즉, 어드바이스가 적용될 수 있는 위치가 메소드 실행 시점으로 제한된다.

> `AspectJ` 를 사용하면 AOP의 다양한 기능들을 사용할 수 있다. 하지만, 운영의 관점에서 보았을 때, `AspectJ` 의 전용 문법 등 공부할 내용도 많고, 설정할 것이 복잡하여 비용대비 아웃풋이 좋지 않다.
> `Spring AOP` 만으로도, 운영의 관점에서 직면할 수 있는 많은 문제를 해결할 수 있기 때문에, 이를 사용한다.

### Spring AOP

- 타겟에 대한 프록시를 만들어 제공한다.
- 프록시가 타겟에 대한 호출을 가로채 부가기능 로직을 수행한다.
- <br />

<div id="3"></div>

## 용어

- 조인포인트 : 어드바이스가 적용될 수 있는 위치
- 포인트 컷 : 어드바이스가 적용될 위치를 선별하는 기능
- 타겟 : 어드바이스를 받는 객체
- 어드바이스 : Aspect에 의해서 취해지는 조치 (Around,Before,After 과 같은 다양한 종류의 어드바이스가 있음)
- Aspect : 어드바이스+포인트컷을 모듈화 한 것으로, `@Aspect`
- 어드바이저 : 하나의 어드바이스와 하나의 포인트 컷으로 구성된 것으로, `Spring AOP` 에서만 사용됨

## Reference

- 스프링핵심원리\_고급편
